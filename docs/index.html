<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Client.html">Client</a><ul class='methods'><li data-type='method'><a href="Client.html#matchCommand">matchCommand</a></li><li data-type='method'><a href="Client.html#syncCommands">syncCommands</a></li></ul></li><li><a href="Collection.html">Collection</a><ul class='methods'><li data-type='method'><a href="Collection.html#data">data</a></li><li data-type='method'><a href="Collection.html#reference">reference</a></li></ul></li><li><a href="Command.html">Command</a><ul class='methods'><li data-type='method'><a href="Command.html#security">security</a></li></ul></li><li><a href="CommandsManager.html">CommandsManager</a><ul class='methods'><li data-type='method'><a href="CommandsManager.html#get">get</a></li><li data-type='method'><a href="CommandsManager.html#match">match</a></li><li data-type='method'><a href="CommandsManager.html#sync">sync</a></li></ul></li><li><a href="Database.html">Database</a></li><li><a href="DatabaseManager.html">DatabaseManager</a></li><li><a href="Document.html">Document</a><ul class='methods'><li data-type='method'><a href="Document.html#data">data</a></li><li data-type='method'><a href="Document.html#reference">reference</a></li></ul></li><li><a href="Folder.html">Folder</a><ul class='methods'><li data-type='method'><a href="Folder.html#get">get</a></li></ul></li><li><a href="GlobalCommand.html">GlobalCommand</a><ul class='methods'><li data-type='method'><a href="GlobalCommand.html#delete">delete</a></li><li data-type='method'><a href="GlobalCommand.html#get">get</a></li><li data-type='method'><a href="GlobalCommand.html#post">post</a></li><li data-type='method'><a href="GlobalCommand.html#security">security</a></li></ul></li><li><a href="GuildManager.html">GuildManager</a><ul class='methods'><li data-type='method'><a href="GuildManager.html#archive">archive</a></li><li data-type='method'><a href="GuildManager.html#create">create</a></li><li data-type='method'><a href="GuildManager.html#data">data</a></li><li data-type='method'><a href="GuildManager.html#reference">reference</a></li><li data-type='method'><a href="GuildManager.html#unarchive">unarchive</a></li><li data-type='method'><a href="GuildManager.html#update">update</a></li></ul></li><li><a href="GuildsManager.html">GuildsManager</a><ul class='methods'><li data-type='method'><a href="GuildsManager.html#data">data</a></li><li data-type='method'><a href="GuildsManager.html#delete">delete</a></li><li data-type='method'><a href="GuildsManager.html#fetch">fetch</a></li><li data-type='method'><a href="GuildsManager.html#get">get</a></li><li data-type='method'><a href="GuildsManager.html#post">post</a></li><li data-type='method'><a href="GuildsManager.html#reference">reference</a></li></ul></li><li><a href="Interaction.html">Interaction</a><ul class='methods'><li data-type='method'><a href="Interaction.html#author">author</a></li><li data-type='method'><a href="Interaction.html#bot">bot</a></li><li data-type='method'><a href="Interaction.html#channel">channel</a></li><li data-type='method'><a href="Interaction.html#guild">guild</a></li><li data-type='method'><a href="Interaction.html#sendEmbed">sendEmbed</a></li><li data-type='method'><a href="Interaction.html#sendEphemeral">sendEphemeral</a></li><li data-type='method'><a href="Interaction.html#sendMessage">sendMessage</a></li></ul></li><li><a href="LocalClient.html">LocalClient</a><ul class='methods'><li data-type='method'><a href="LocalClient.html#matchCommand">matchCommand</a></li><li data-type='method'><a href="LocalClient.html#syncCommands">syncCommands</a></li></ul></li><li><a href="UserManager.html">UserManager</a><ul class='methods'><li data-type='method'><a href="UserManager.html#archive">archive</a></li><li data-type='method'><a href="UserManager.html#create">create</a></li><li data-type='method'><a href="UserManager.html#data">data</a></li><li data-type='method'><a href="UserManager.html#reference">reference</a></li><li data-type='method'><a href="UserManager.html#unarchive">unarchive</a></li><li data-type='method'><a href="UserManager.html#update">update</a></li></ul></li><li><a href="UsersManager.html">UsersManager</a><ul class='methods'><li data-type='method'><a href="UsersManager.html#data">data</a></li><li data-type='method'><a href="UsersManager.html#delete">delete</a></li><li data-type='method'><a href="UsersManager.html#fetch">fetch</a></li><li data-type='method'><a href="UsersManager.html#get">get</a></li><li data-type='method'><a href="UsersManager.html#post">post</a></li><li data-type='method'><a href="UsersManager.html#reference">reference</a></li></ul></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<div id="main">
    

    



    


    <section class="package">
        <h3> </h3>		
    </section>









    



    <section class="readme usertext">
        <article><p align="center">
  <img src="https://raw.githubusercontent.com/ming-suhi/ming-suhi/master/djs-manager.svg" width="100" align="center" />
</p>
<p align="center">
  <a href="https://github.com/ming-suhi/djs-manager" target="_blank">
    <strong>@ming-suhi/djs-manager</strong>
  </a>
</p>
<p align="center">Discord.js | Firebase Firestore | @ming-suhi/djs-local-manager</p>
<h2>I. About</h2>
<p>A package for managing Discord Slash Commands, this package makes use of Firebase Firestore for database, and @ming-suhi/djs-local-manager for managing local and Discord. For an in-depth documentation visit the <a href="https://ming-suhi.github.io/djs-manager/" target="_blank">official website</a>. For users who want to opt for a similar package without a database manager, check out <a href="https://github.com/ming-suhi/djs-local-manager" target="_blank">@ming-suhi/djs-local-manager</a> from the same developer.</p>
<h2>II. Getting Started</h2>
<h2>A. Installing</h2>
<h5>Run npm install on the command line or terminal.</h5>
<pre class="prettyprint source"><code>npm install @ming-suhi/djs-manager
</code></pre>
<h2>B. Setting environment</h2>
<ol>
<li>Create a <code>.env</code> file in the root directory</li>
</ol>
<pre class="prettyprint source lang-env"><code>BOT_TOKEN = 

COMMANDS_FOLDER =

PROJECT_ID =
PRIVATE_KEY_ID =
PRIVATE_KEY = 
CLIENT_EMAIL =
CLIENT_ID =
CLIENT_X509_CERT_URL =
</code></pre>
<ol start="2">
<li>
<p>Get the Discord bot's token and store it as <code>BOT_TOKEN</code>.</p>
</li>
<li>
<p>Create a folder to hold command files. Store the folder path from the root as <code>COMMANDS_FOLDER</code>.</p>
</li>
<li>
<p>Get your Firebase project's <code>Admin SDK config</code> file. Store the values as their corresponding keys.</p>
</li>
</ol>
<ul>
<li><code>type</code>, <code>auth_uri</code>, <code>token_uri</code>, and <code>auth_provider_x509_cert_url</code> fields need not to be stored</li>
</ul>
<h2>C. Setting bot</h2>
<ol>
<li>Create an instance of Discord Client</li>
</ol>
<pre class="prettyprint source lang-js"><code>const Discord = require('discord.js');
const client = new Discord.Client();
</code></pre>
<ol start="2">
<li>Attach an instance of Manager Client</li>
</ol>
<pre class="prettyprint source lang-js"><code>const Manager = require('@ming-suhi/djs-manager');
client.msdm = new Manager.Client();
</code></pre>
<ol start="3">
<li>Login bot</li>
</ol>
<pre class="prettyprint source lang-js"><code>client.login(client.msdm.token);
</code></pre>
<h2>D. Creating commands</h2>
<ol>
<li>
<p>Create a file inside the commands folder</p>
</li>
<li>
<p>Require/import <code>@ming-suhi/djs-manager</code></p>
</li>
</ol>
<pre class="prettyprint source lang-js"><code>const Manager = require('@ming-suhi/djs-manager');
</code></pre>
<ol start="3">
<li>Create and export instance of GlobalCommand</li>
</ol>
<pre class="prettyprint source lang-js"><code>module.exports = new Manager.GlobalCommand(commandData);
</code></pre>
<p>Example</p>
<pre class="prettyprint source lang-js"><code>const Manager = require('@ming-suhi/djs-manager');

module.exports = new Manager.GlobalCommand({
  name: 'ping',
  description: 'pings bot to get latency',
  permissions: [&quot;SEND_MESSAGES&quot;],
  async execute(interaction) {
    //send latency to channel
    interaction.sendMessage(`Bot ping is: ${Math.round(interaction.client.ws.ping)}ms`);
  }
});
</code></pre>
<h2>E. Registering commands</h2>
<ol>
<li>Listen to <code>ready</code></li>
</ol>
<pre class="prettyprint source lang-js"><code>//Triggers on ready
client.on('ready', async() => {
  //code here
});
</code></pre>
<ol start="2">
<li>Sync commands</li>
</ol>
<pre class="prettyprint source lang-js"><code>client.msdm.syncCommands(client);
</code></pre>
<h2>F. Handling commands</h2>
<ol>
<li>Listen to <code>INTERACTION_CREATE</code></li>
</ol>
<pre class="prettyprint source lang-js"><code>//Triggered on Slash Commands
client.ws.on('INTERACTION_CREATE', async request => {
  //code here
});
</code></pre>
<ol start="2">
<li>Create an instance of Manager Interaction</li>
</ol>
<pre class="prettyprint source lang-js"><code>const interaction = new Manager.Interaction(client, request);
</code></pre>
<ol start="3">
<li>Execute requested command</li>
</ol>
<pre class="prettyprint source lang-js"><code>client.msdm.matchCommand(interaction);
</code></pre>
<h2>G. Accessing Manager through interaction</h2>
<ol>
<li>Access Discord Client instance through the client property of interaction</li>
</ol>
<pre class="prettyprint source lang-js"><code>const client = interaction.client;
</code></pre>
<ol start="2">
<li>Access manager through the property which you have attached it to(refer to C.2)</li>
</ol>
<pre class="prettyprint source lang-js"><code>const manager = client.msdm;
</code></pre>
<h2>III. Working with the Database</h2>
<h2>A. Creating base documents</h2>
<ol>
<li>Listen to <code>guildCreate</code></li>
</ol>
<pre class="prettyprint source lang-js"><code>//Triggered when bot becomes a member of a guild
client.on('guildCreate', async guild => {
  //code here
});
</code></pre>
<ol start="2">
<li>Create guild doc</li>
</ol>
<pre class="prettyprint source lang-js"><code>guildDb = await client.msdm.guilds.fetch(guild.id);
await guildDb.create(guild);
</code></pre>
<ol start="3">
<li>Create user docs</li>
</ol>
<pre class="prettyprint source lang-js"><code>const members = await guild.members.fetch();
for (let member of members) {
  const memberDb = await guildDB.users.fetch(member.id);
  await memberDb.create(member);
}
</code></pre>
<p>create method posts to db basic info such as id and name</p>
<h2>B. Updating documents</h2>
<ol>
<li>Fetch document</li>
</ol>
<pre class="prettyprint source lang-js"><code>const guildDb = await client.msdm.db.guilds.fetch(guildId);
</code></pre>
<ol start="2">
<li>Use update method</li>
</ol>
<pre class="prettyprint source lang-js"><code>await guildDb.update({&quot;updated&quot;: true});
</code></pre>
<h2>IV. Contributing</h2>
<h2>A. Issues</h2>
<p>This project uses GitHub Issues to track bugs and feature requests. Please search the existing issues before filing new issues to avoid duplicates. For new issues, file your bug or feature request as a new issue.</p>
<p>For help and questions about using this project, please open a GitHub issue.</p>
<h2>B. Pull requests</h2>
<ol>
<li>
<p>Fork the project.</p>
</li>
<li>
<p>Create a topic branch from master.</p>
</li>
<li>
<p>Make some commits to improve the project.</p>
</li>
<li>
<p>Push this branch to your GitHub project.</p>
</li>
<li>
<p>Open a Pull Request on GitHub.</p>
</li>
<li>
<p>Discuss, and optionally continue committing.</p>
</li>
</ol>
<h2>V. License</h2>
<p>MIT © 明suhi</p></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>