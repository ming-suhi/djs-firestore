<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Tutorials</h3><ul><li><a href="tutorial-commands.html">Working with Commands</a></li><li><a href="tutorial-components.html">Working with Components</a></li><li><a href="tutorial-database_.html">Working with Firestore</a></li><li><a href="tutorial-fields.html">Command Fields</a></li><li><a href="tutorial-security.html">Setting Up Security</a></li><li><a href="tutorial-setup.html">Setting Up</a></li><li><a href="tutorial-subcommand_.html">Subcommands</a></li><li><a href="tutorial-subcommandgroup_.html">Subcommand Groups</a></li><li><a href="tutorial-sync.html">Synching Command</a></li></ul><h3>Classes</h3><ul><li><a href="ActionRow.html">ActionRow</a></li><li><a href="BooleanField.html">BooleanField</a></li><li><a href="Button.html">Button</a></li><li><a href="ChannelField.html">ChannelField</a></li><li><a href="Client.html">Client</a><ul class='methods'><li data-type='method'><a href="Client.html#handleInteraction">handleInteraction</a></li><li data-type='method'><a href="Client.html#syncCommands">syncCommands</a></li></ul></li><li><a href="Collection.html">Collection</a><ul class='methods'><li data-type='method'><a href="Collection.html#data">data</a></li><li data-type='method'><a href="Collection.html#reference">reference</a></li></ul></li><li><a href="Command.html">Command</a><ul class='methods'><li data-type='method'><a href="Command.html#botCheck">botCheck</a></li><li data-type='method'><a href="Command.html#executeCheck">executeCheck</a></li><li data-type='method'><a href="Command.html#interactCheck">interactCheck</a></li><li data-type='method'><a href="Command.html#userCheck">userCheck</a></li></ul></li><li><a href="CommandsManager.html">CommandsManager</a><ul class='methods'><li data-type='method'><a href="CommandsManager.html#get">get</a></li><li data-type='method'><a href="CommandsManager.html#match">match</a></li><li data-type='method'><a href="CommandsManager.html#sync">sync</a></li></ul></li><li><a href="Database.html">Database</a></li><li><a href="DatabaseManager.html">DatabaseManager</a></li><li><a href="Document.html">Document</a><ul class='methods'><li data-type='method'><a href="Document.html#data">data</a></li><li data-type='method'><a href="Document.html#reference">reference</a></li></ul></li><li><a href="Folder.html">Folder</a><ul class='methods'><li data-type='method'><a href="Folder.html#get">get</a></li></ul></li><li><a href="GuildManager.html">GuildManager</a><ul class='methods'><li data-type='method'><a href="GuildManager.html#archive">archive</a></li><li data-type='method'><a href="GuildManager.html#create">create</a></li><li data-type='method'><a href="GuildManager.html#data">data</a></li><li data-type='method'><a href="GuildManager.html#reference">reference</a></li><li data-type='method'><a href="GuildManager.html#unarchive">unarchive</a></li><li data-type='method'><a href="GuildManager.html#update">update</a></li></ul></li><li><a href="GuildsManager.html">GuildsManager</a><ul class='methods'><li data-type='method'><a href="GuildsManager.html#data">data</a></li><li data-type='method'><a href="GuildsManager.html#delete">delete</a></li><li data-type='method'><a href="GuildsManager.html#fetch">fetch</a></li><li data-type='method'><a href="GuildsManager.html#get">get</a></li><li data-type='method'><a href="GuildsManager.html#post">post</a></li><li data-type='method'><a href="GuildsManager.html#reference">reference</a></li></ul></li><li><a href="IntegerField.html">IntegerField</a></li><li><a href="InteractionService.html">InteractionService</a><ul class='methods'><li data-type='method'><a href="InteractionService.html#sendEmbed">sendEmbed</a></li><li data-type='method'><a href="InteractionService.html#sendEphemeral">sendEphemeral</a></li><li data-type='method'><a href="InteractionService.html#sendMessage">sendMessage</a></li><li data-type='method'><a href="InteractionService.html#updateMessage">updateMessage</a></li></ul></li><li><a href="LocalClient.html">LocalClient</a><ul class='methods'><li data-type='method'><a href="LocalClient.html#handleInteraction">handleInteraction</a></li><li data-type='method'><a href="LocalClient.html#syncCommands">syncCommands</a></li></ul></li><li><a href="MemberManager.html">MemberManager</a><ul class='methods'><li data-type='method'><a href="MemberManager.html#archive">archive</a></li><li data-type='method'><a href="MemberManager.html#create">create</a></li><li data-type='method'><a href="MemberManager.html#data">data</a></li><li data-type='method'><a href="MemberManager.html#reference">reference</a></li><li data-type='method'><a href="MemberManager.html#unarchive">unarchive</a></li><li data-type='method'><a href="MemberManager.html#update">update</a></li></ul></li><li><a href="MembersManager.html">MembersManager</a><ul class='methods'><li data-type='method'><a href="MembersManager.html#data">data</a></li><li data-type='method'><a href="MembersManager.html#delete">delete</a></li><li data-type='method'><a href="MembersManager.html#fetch">fetch</a></li><li data-type='method'><a href="MembersManager.html#get">get</a></li><li data-type='method'><a href="MembersManager.html#post">post</a></li><li data-type='method'><a href="MembersManager.html#reference">reference</a></li></ul></li><li><a href="MentionableField.html">MentionableField</a></li><li><a href="RoleField.html">RoleField</a></li><li><a href="SelectMenu.html">SelectMenu</a></li><li><a href="SelectOption.html">SelectOption</a></li><li><a href="StringField.html">StringField</a></li><li><a href="SubCommand.html">SubCommand</a><ul class='methods'><li data-type='method'><a href="SubCommand.html#botCheck">botCheck</a></li><li data-type='method'><a href="SubCommand.html#executeCheck">executeCheck</a></li><li data-type='method'><a href="SubCommand.html#interactCheck">interactCheck</a></li><li data-type='method'><a href="SubCommand.html#userCheck">userCheck</a></li></ul></li><li><a href="SubCommandGroup.html">SubCommandGroup</a></li><li><a href="UserField.html">UserField</a></li><li><a href="UserManager.html">UserManager</a><ul class='methods'><li data-type='method'><a href="UserManager.html#create">create</a></li><li data-type='method'><a href="UserManager.html#data">data</a></li><li data-type='method'><a href="UserManager.html#reference">reference</a></li><li data-type='method'><a href="UserManager.html#update">update</a></li></ul></li><li><a href="UsersManager.html">UsersManager</a><ul class='methods'><li data-type='method'><a href="UsersManager.html#data">data</a></li><li data-type='method'><a href="UsersManager.html#delete">delete</a></li><li data-type='method'><a href="UsersManager.html#fetch">fetch</a></li><li data-type='method'><a href="UsersManager.html#get">get</a></li><li data-type='method'><a href="UsersManager.html#post">post</a></li><li data-type='method'><a href="UsersManager.html#reference">reference</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#collectionData">collectionData</a></li><li><a href="global.html#collectionID">collectionID</a></li><li><a href="global.html#collectionPath">collectionPath</a></li><li><a href="global.html#docData">docData</a></li><li><a href="global.html#docID">docID</a></li><li><a href="global.html#documentPath">documentPath</a></li><li><a href="global.html#fieldValues">fieldValues</a></li><li><a href="global.html#fileExport">fileExport</a></li><li><a href="global.html#folderExports">folderExports</a></li><li><a href="global.html#folderPath">folderPath</a></li><li><a href="global.html#guildID">guildID</a></li><li><a href="global.html#userID">userID</a></li></ul>
</nav>

<div id="main">
    

    



    


    <section class="package">
        <h3> </h3>		
    </section>









    



    <section class="readme usertext">
        <article><p align="center">
  <img src="https://raw.githubusercontent.com/ming-suhi/ming-suhi/master/djs-manager.svg" width="100" align="center" />
</p>
<p align="center">
  <a href="https://github.com/ming-suhi/djs-manager" target="_blank">
    <strong>@ming-suhi/djs-manager</strong>
  </a>
</p>
<p align="center">Powered by Discord.js and Firebase Firestore</p>
<h2>I. About</h2>
<p>A package for managing Discord Interactions; Slash Commands, Button, and Select Menus, that comes with a Database Manager for Firestore. For an in-depth documentation visit the <a href="https://ming-suhi.github.io/djs-manager/" target="_blank">official website</a>. For users who want to opt for a similar package without a database manager, check out <a href="https://github.com/ming-suhi/djs-local-manager" target="_blank">@ming-suhi/djs-local-manager</a> from the same developer.</p>
<h2>II. Getting Started</h2>
<h2>A. Installation</h2>
<h5>Run npm install on the command line or terminal.</h5>
<pre class="prettyprint source"><code>npm install @ming-suhi/djs-manager
</code></pre>
<h2>B. Setting environment</h2>
<ol>
<li>
<p>Create a <code>.env</code> file in the root directory</p>
<pre class="prettyprint source lang-env"><code>BOT_TOKEN = 

COMMANDS_FOLDER =
</code></pre>
</li>
<li>
<p>Get the Discord bot's token and store it as <code>BOT_TOKEN</code>.</p>
</li>
<li>
<p>Create a folder to hold command files. Store the folder path from the root as <code>COMMANDS_FOLDER</code>.</p>
</li>
</ol>
<h2>C. Setting bot</h2>
<ol>
<li>
<p>Create an instance of Discord Client</p>
<pre class="prettyprint source lang-js"><code>const Discord = require('discord.js');
const client = new Discord.Client();
</code></pre>
</li>
<li>
<p>Attach an instance of Manager Client</p>
<pre class="prettyprint source lang-js"><code>const Manager = require('@ming-suhi/djs-manager');
client.msdm = new Manager.Client();
</code></pre>
</li>
<li>
<p>Login bot</p>
<pre class="prettyprint source lang-js"><code>client.login(client.msdm.token);
</code></pre>
</li>
</ol>
<h2>D. Creating commands</h2>
<ol>
<li>
<p>Create a file inside the commands folder, file name must be the same as command name</p>
</li>
<li>
<p>Require/import <code>Command</code></p>
<pre class="prettyprint source lang-js"><code>const {Command} = require('@ming-suhi/djs-manager');
</code></pre>
</li>
<li>
<p>Extend <code>Command</code></p>
<pre class="prettyprint source lang-js"><code>const myCommand = new class extends Command {
  constructor() {
    super();
    // Properties here
  }
}
</code></pre>
</li>
<li>
<p>Set class properties</p>
<pre class="prettyprint source lang-js"><code>this.name = &quot;mycommand&quot;;
this.description = 'my custom command';
</code></pre>
</li>
<li>
<p>Create <code>execute</code> method</p>
<pre class="prettyprint source lang-js"><code>async execute(service) {
  await service.sendMessage('Your command has been heard');
}
</code></pre>
</li>
<li>
<p>Export created class</p>
<pre class="prettyprint source lang-js"><code>module.exports = myCommand;
</code></pre>
<p>Example</p>
<pre class="prettyprint source lang-js"><code>const {Command} = require('@ming-suhi/djs-manager');

const ping = new class extends Command {
  constructor() {
    super();
    this.name = &quot;ping&quot;;
    this.description = 'pings bot to get latency';
  }

  async execute(service) {
    await service.sendMessage('Pong');
  }
}

module.exports = ping;
</code></pre>
</li>
</ol>
<h2>E. Synching commands</h2>
<p>It is suggested to sync commands on client ready. To sync commands just simply call on <code>syncCommands</code> method.</p>
<pre class="prettyprint source lang-js"><code>client.on('ready', async() => {
  client.msdm.syncCommands(client);
});
</code></pre>
<h2>F. Setting interaction handler</h2>
<p>This step setups an interaction handler that finds the corresponding file for the requested command. Upon receiving a slash command it calls on the executes method of that command. Upon receiving a button interaction it executes the onPress method, while receiving a select menu interaction executes the onSelect method.</p>
<pre class="prettyprint source lang-js"><code>client.ws.on('INTERACTION_CREATE', async interaction => {
  client.msdm.handleInteraction(client, interaction);
})
</code></pre>
<h2>III. Working with the Database</h2>
<h2>A. Creating base documents</h2>
<ol>
<li>
<p>Listen to <code>guildCreate</code></p>
<pre class="prettyprint source lang-js"><code>//Triggered when bot becomes a member of a guild
client.on('guildCreate', async guild => {
  //code here
});
</code></pre>
</li>
<li>
<p>Create guild doc. Fetch a pseduo-doc(not yet existing doc), and post to it basic infos. Create method posts name and id.</p>
<pre class="prettyprint source lang-js"><code>guildDb = await db.guilds.fetch(guild.id);
await guildDb.create(guild);
</code></pre>
</li>
<li>
<p>Create member docs. Loop through guild members and do the same process as with the earlier process for the guilds.</p>
<pre class="prettyprint source lang-js"><code>const members = await guild.members.fetch();
for (let member of members) {
  const memberDb = await guildDB.members.fetch(member.id);
  await memberDb.create(member);
}
</code></pre>
<p>Resulting Code:</p>
<pre class="prettyprint source lang-js"><code>client.on('guildCreate', async guild => {
  guildDb = await db.guilds.fetch(guild.id);
  await guildDb.create(guild);
  const members = await guild.members.fetch();
  for (let member of members) {
    const memberDb = await guildDB.members.fetch(member.id);
    await memberDb.create(member);
  }
});
</code></pre>
</li>
</ol>
<h2>B. Updating documents</h2>
<ol>
<li>
<p>Fetch document</p>
<pre class="prettyprint source lang-js"><code>const guildDb = await db.guilds.fetch(guildId);
</code></pre>
</li>
<li>
<p>Use update method</p>
<pre class="prettyprint source lang-js"><code>await guildDb.update({&quot;updated&quot;: true});
</code></pre>
<p>Resulting Code:</p>
<pre class="prettyprint source lang-js"><code>const guildDb = await db.guilds.fetch(guildId);
await guildDb.update({&quot;updated&quot;: true});
</code></pre>
</li>
</ol>
<h2>IV. Contributing</h2>
<h2>A. Issues</h2>
<p>This project uses GitHub Issues to track bugs and feature requests. Please search the existing issues before filing new issues to avoid duplicates. For new issues, file your bug or feature request as a new issue.</p>
<p>For help and questions about using this project, please open a GitHub issue.</p>
<h2>B. Pull requests</h2>
<ol>
<li>
<p>Fork the project.</p>
</li>
<li>
<p>Create a topic branch from master.</p>
</li>
<li>
<p>Make some commits to improve the project.</p>
</li>
<li>
<p>Push this branch to your GitHub project.</p>
</li>
<li>
<p>Open a Pull Request on GitHub.</p>
</li>
<li>
<p>Discuss, and optionally continue committing.</p>
</li>
</ol>
<h2>V. License</h2>
<p>MIT © 明suhi</p></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>