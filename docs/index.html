<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>@ming-suhi/djs-firestore</title>
	<meta name="description" content="Documentation for @ming-suhi/djs-firestore">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">@ming-suhi/djs-firestore</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>@ming-suhi/djs-firestore</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<p align="center">
					<img src="https://raw.githubusercontent.com/ming-suhi/ming-suhi/master/djs-firestore.svg" width="100" align="center" />
				</p>
				<p align="center">
					<a href="https://github.com/ming-suhi/djs-firestore" target="_blank">
						<strong>@ming-suhi/djs-firestore</strong>
					</a>
				</p>
				<p align="center">Powered by Firebase Firestore</p>
				<a href="#i-about" id="i-about" style="color: inherit; text-decoration: none;">
					<h2>I. About</h2>
				</a>
				<p>A package for managing your Discord bot&#39;s structured Firestore. For an in-depth documentation visit the <a href="https://ming-suhi.github.io/djs-firestore/" target="_blank">documentation website</a>. </p>
				<a href="#ii-getting-started" id="ii-getting-started" style="color: inherit; text-decoration: none;">
					<h2>II. Getting Started</h2>
				</a>
				<a href="#a-installing" id="a-installing" style="color: inherit; text-decoration: none;">
					<h2>A. Installing</h2>
				</a>
				<a href="#run-npm-install-on-the-command-line-or-terminal" id="run-npm-install-on-the-command-line-or-terminal" style="color: inherit; text-decoration: none;">
					<h5>Run npm install on the command line or terminal.</h5>
				</a>
				<pre><code><span style="color: #001080">npm</span><span style="color: #000000"> </span><span style="color: #001080">install</span><span style="color: #000000"> @</span><span style="color: #001080">ming</span><span style="color: #000000">-</span><span style="color: #001080">suhi</span><span style="color: #000000">/</span><span style="color: #001080">djs</span><span style="color: #000000">-</span><span style="color: #001080">firestore</span>
</code></pre>
				<a href="#b-setting-environment" id="b-setting-environment" style="color: inherit; text-decoration: none;">
					<h2>B. Setting environment</h2>
				</a>
				<ol>
					<li><p>Create a <code>.env</code> file in the root directory</p>
						<pre><code><span style="color: #0070C1">PROJECT_ID</span><span style="color: #000000">=</span>
<span style="color: #0070C1">CLIENT_EMAIL</span><span style="color: #000000">=</span>
<span style="color: #0070C1">PRIVATE_KEY</span><span style="color: #000000">=</span>
</code></pre>
					</li>
					<li><p>Get <code>project_id</code>, <code>client_email</code>, and <code>private_key</code> of your Firebase service account and store it correspondingly.</p>
					</li>
				</ol>
				<a href="#c-setting-up-manager" id="c-setting-up-manager" style="color: inherit; text-decoration: none;">
					<h2>C. Setting up manager</h2>
				</a>
				<ol>
					<li><p>Require <code>FirestoreManager</code></p>
						<pre><code class="language-js"><span style="color: #0000FF">const</span><span style="color: #000000"> { </span><span style="color: #0070C1">FirestoreManager</span><span style="color: #000000"> } = </span><span style="color: #795E26">require</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;@ming-suhi/djs-firestore&#039;</span><span style="color: #000000">);</span>
</code></pre>
					</li>
					<li><p>Attach an instance to discord client.</p>
						<pre><code class="language-js"><span style="color: #001080">client</span><span style="color: #000000">.</span><span style="color: #001080">db</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">FirestoreManager</span><span style="color: #000000">();</span>
</code></pre>
					</li>
					<li><p>Initialize guilds.</p>
						<pre><code class="language-js"><span style="color: #001080">client</span><span style="color: #000000">.</span><span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">initializeGuilds</span><span style="color: #000000">(</span><span style="color: #001080">client</span><span style="color: #000000">);</span>
</code></pre>
					</li>
				</ol>
				<a href="#d-creating-base-documents" id="d-creating-base-documents" style="color: inherit; text-decoration: none;">
					<h2>D. Creating base documents</h2>
				</a>
				<ol>
					<li><p>Listen to <code>guildCreate</code></p>
						<pre><code class="language-js"><span style="color: #001080">client</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;guildCreate&#039;</span><span style="color: #000000">, </span><span style="color: #0000FF">async</span><span style="color: #000000"> </span><span style="color: #001080">guild</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">  </span><span style="color: #008000">// Code here</span>
<span style="color: #000000">});</span>
</code></pre>
					</li>
					<li><p>Create guild doc.</p>
						<pre><code class="language-js"><span style="color: #008000">// If needed require GuildDocument</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> { </span><span style="color: #0070C1">GuildDocument</span><span style="color: #000000"> } = = </span><span style="color: #795E26">require</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;@ming-suhi/djs-firestore&#039;</span><span style="color: #000000">);</span>
<span style="color: #008000">// Check if a guild doc for the guild exist</span>
<span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">guildDb</span><span style="color: #000000"> = </span><span style="color: #001080">client</span><span style="color: #000000">.</span><span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #001080">guilds</span><span style="color: #000000">.</span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #001080">guild</span><span style="color: #000000">.</span><span style="color: #001080">id</span><span style="color: #000000">);</span>
<span style="color: #008000">// If not existing create document</span>
<span style="color: #AF00DB">if</span><span style="color: #000000"> (!</span><span style="color: #001080">guildDb</span><span style="color: #000000">) {</span>
<span style="color: #000000">  </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">guildDb</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">GuildDocument</span><span style="color: #000000">(</span><span style="color: #001080">guild</span><span style="color: #000000">.</span><span style="color: #001080">id</span><span style="color: #000000">);</span>
<span style="color: #000000">  </span><span style="color: #001080">guildDb</span><span style="color: #000000">.</span><span style="color: #795E26">initialize</span><span style="color: #000000">();</span>
<span style="color: #000000">  </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">guildDb</span><span style="color: #000000">.</span><span style="color: #795E26">update</span><span style="color: #000000">({</span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #001080">guild</span><span style="color: #000000">.</span><span style="color: #001080">id</span><span style="color: #000000">, </span><span style="color: #001080">name:</span><span style="color: #000000"> </span><span style="color: #001080">guild</span><span style="color: #000000">.</span><span style="color: #001080">name</span><span style="color: #000000">});</span>
<span style="color: #000000">  </span><span style="color: #008000">// Put a reference to guilds</span>
<span style="color: #000000">  </span><span style="color: #001080">client</span><span style="color: #000000">.</span><span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #001080">guilds</span><span style="color: #000000">.</span><span style="color: #795E26">set</span><span style="color: #000000">(</span><span style="color: #001080">guild</span><span style="color: #000000">.</span><span style="color: #001080">id</span><span style="color: #000000">, </span><span style="color: #001080">guildDb</span><span style="color: #000000">);</span>
<span style="color: #000000">}</span>
</code></pre>
					</li>
				</ol>
				<a href="#e-other-methods" id="e-other-methods" style="color: inherit; text-decoration: none;">
					<h2>E. Other methods</h2>
				</a>
				<ol>
					<li><p>Get field method</p>
						<pre><code class="language-js"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">guildDb</span><span style="color: #000000"> = </span><span style="color: #001080">client</span><span style="color: #000000">.</span><span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #001080">guilds</span><span style="color: #000000">.</span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #001080">guildId</span><span style="color: #000000">);</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">fieldValue</span><span style="color: #000000"> = </span><span style="color: #001080">guildDb</span><span style="color: #000000">.</span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;fieldName&#039;</span><span style="color: #000000">);</span>
<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">fieldValue</span><span style="color: #000000">);</span>
</code></pre>
					</li>
					<li><p>Update method</p>
						<pre><code class="language-js"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">guildDb</span><span style="color: #000000"> = </span><span style="color: #001080">client</span><span style="color: #000000">.</span><span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #001080">guilds</span><span style="color: #000000">.</span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #001080">guildId</span><span style="color: #000000">);</span>
<span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">guildDb</span><span style="color: #000000">.</span><span style="color: #795E26">update</span><span style="color: #000000">({</span><span style="color: #A31515">&quot;updated&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #0000FF">true</span><span style="color: #000000">});</span>
</code></pre>
					</li>
					<li><p>Delete method</p>
						<pre><code class="language-js"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">guildDb</span><span style="color: #000000"> = </span><span style="color: #001080">client</span><span style="color: #000000">.</span><span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #001080">guilds</span><span style="color: #000000">.</span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #001080">guildId</span><span style="color: #000000">);</span>
<span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">guildDb</span><span style="color: #000000">.</span><span style="color: #795E26">delete</span><span style="color: #000000">();</span>
</code></pre>
					</li>
				</ol>
				<a href="#iii-contributing" id="iii-contributing" style="color: inherit; text-decoration: none;">
					<h2>III. Contributing</h2>
				</a>
				<a href="#a-issues" id="a-issues" style="color: inherit; text-decoration: none;">
					<h2>A. Issues</h2>
				</a>
				<p>This project uses GitHub Issues to track bugs and feature requests. Please search the existing issues before filing new issues to avoid duplicates. For new issues, file your bug or feature request as a new issue.</p>
				<p>For help and questions about using this project, please open a GitHub issue.</p>
				<a href="#b-pull-requests" id="b-pull-requests" style="color: inherit; text-decoration: none;">
					<h2>B. Pull requests</h2>
				</a>
				<ol>
					<li><p>Fork the project.</p>
					</li>
					<li><p>Create a topic branch from master.</p>
					</li>
					<li><p>Make some commits to improve the project.</p>
					</li>
					<li><p>Push this branch to your GitHub project.</p>
					</li>
					<li><p>Open a Pull Request on GitHub.</p>
					</li>
					<li><p>Discuss, and optionally continue committing.</p>
					</li>
				</ol>
				<a href="#iv-license" id="iv-license" style="color: inherit; text-decoration: none;">
					<h2>IV. License</h2>
				</a>
				<p>MIT © 明suhi</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Exports</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class">
						<a href="classes/Document.html" class="tsd-kind-icon">Document</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/FirestoreManager.html" class="tsd-kind-icon">Firestore<wbr>Manager</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/GuildDocument.html" class="tsd-kind-icon">Guild<wbr>Document</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>